!function(s){var n={};function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return s[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=s,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4)}([function(e,s,n){"use strict";(function(e){var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(e){if(document.querySelector){var a={selector:0,source:0,minChars:3,delay:150,offsetLeft:0,offsetTop:1,cache:1,menuClass:"",renderItem:function(e,t){t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var s=new RegExp("("+t.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+e+'">'+e.replace(s,"<b>$1</b>")+"</div>"},onSelect:function(e,t,s){}};for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t]);for(var s="object"==d(a.selector)?[a.selector]:document.querySelectorAll(a.selector),n=0;n<s.length;n++){var i=s[n];i.sc=document.createElement("div"),i.sc.className="autocomplete-suggestions "+a.menuClass,i.autocompleteAttr=i.getAttribute("autocomplete"),i.setAttribute("autocomplete","off"),i.cache={},i.last_val="",i.updateSC=function(e,t){var s=i.getBoundingClientRect();if(i.sc.style.left=Math.round(s.left+(window.pageXOffset||document.documentElement.scrollLeft)+a.offsetLeft)+"px",i.sc.style.top=Math.round(s.bottom+(window.pageYOffset||document.documentElement.scrollTop)+a.offsetTop)+"px",i.sc.style.width=Math.round(s.right-s.left)+"px",!e&&(i.sc.style.display="block",i.sc.maxHeight||(i.sc.maxHeight=parseInt((window.getComputedStyle?getComputedStyle(i.sc,null):i.sc.currentStyle).maxHeight)),i.sc.suggestionHeight||(i.sc.suggestionHeight=i.sc.querySelector(".autocomplete-suggestion").offsetHeight),i.sc.suggestionHeight))if(t){var n=i.sc.scrollTop,o=t.getBoundingClientRect().top-i.sc.getBoundingClientRect().top;0<o+i.sc.suggestionHeight-i.sc.maxHeight?i.sc.scrollTop=o+i.sc.suggestionHeight+n-i.sc.maxHeight:o<0&&(i.sc.scrollTop=o+n)}else i.sc.scrollTop=0},l(window,"resize",i.updateSC),i.parentNode.insertBefore(i.sc,i.nextElementSibling),u("autocomplete-suggestion","mouseleave",function(e){var t=i.sc.querySelector(".autocomplete-suggestion.selected");t&&setTimeout(function(){t.className=t.className.replace("selected","")},20)},i.sc),u("autocomplete-suggestion","mouseover",function(e){var t=i.sc.querySelector(".autocomplete-suggestion.selected");t&&(t.className=t.className.replace("selected","")),this.className+=" selected"},i.sc),u("autocomplete-suggestion","mousedown",function(e){if(c(this,"autocomplete-suggestion")){var t=this.getAttribute("data-val");i.value=t,a.onSelect(e,t,this),i.sc.style.display="none"}},i.sc),i.blurHandler=function(){try{var t=document.querySelector(".autocomplete-suggestions:hover")}catch(e){t=0}t?i!==document.activeElement&&setTimeout(function(){i.focus()},20):(i.last_val=i.value,i.sc.style.display="none",setTimeout(function(){i.sc.style.display="none"},350))},l(i,"blur",i.blurHandler);var r=function(e){var t=i.value;if((i.cache[t]=e).length&&t.length>=a.minChars){for(var s="",n=0;n<e.length;n++)s+=a.renderItem(e[n],t);i.sc.innerHTML=s,i.updateSC(0)}else i.sc.style.display="none"};i.keydownHandler=function(e){var t,s=window.event?e.keyCode:e.which;if((40==s||38==s)&&i.sc.innerHTML)return(n=i.sc.querySelector(".autocomplete-suggestion.selected"))?(t=40==s?n.nextSibling:n.previousSibling)?(n.className=n.className.replace("selected",""),t.className+=" selected",i.value=t.getAttribute("data-val")):(n.className=n.className.replace("selected",""),i.value=i.last_val,t=0):((t=40==s?i.sc.querySelector(".autocomplete-suggestion"):i.sc.childNodes[i.sc.childNodes.length-1]).className+=" selected",i.value=t.getAttribute("data-val")),i.updateSC(0,t),!1;if(27==s)i.value=i.last_val,i.sc.style.display="none";else if(13==s||9==s){var n;(n=i.sc.querySelector(".autocomplete-suggestion.selected"))&&"none"!=i.sc.style.display&&(a.onSelect(e,n.getAttribute("data-val"),n),setTimeout(function(){i.sc.style.display="none"},20))}},l(i,"keydown",i.keydownHandler),i.keyupHandler=function(e){var t=window.event?e.keyCode:e.which;if(!t||(t<35||40<t)&&13!=t&&27!=t){var s=i.value;if(s.length>=a.minChars){if(s!=i.last_val){if(i.last_val=s,clearTimeout(i.timer),a.cache){if(s in i.cache)return void r(i.cache[s]);for(var n=1;n<s.length-a.minChars;n++){var o=s.slice(0,s.length-n);if(o in i.cache&&!i.cache[o].length)return void r([])}}i.timer=setTimeout(function(){a.source(s,r)},a.delay)}}else i.last_val=s,i.sc.style.display="none"}},l(i,"keyup",i.keyupHandler),i.focusHandler=function(e){i.last_val="\n",i.keyupHandler(e)},a.minChars||l(i,"focus",i.focusHandler)}this.destroy=function(){for(var e=0;e<s.length;e++){var t=s[e];o(window,"resize",t.updateSC),o(t,"blur",t.blurHandler),o(t,"focus",t.focusHandler),o(t,"keydown",t.keydownHandler),o(t,"keyup",t.keyupHandler),t.autocompleteAttr?t.setAttribute("autocomplete",t.autocompleteAttr):t.removeAttribute("autocomplete"),document.body.removeChild(t.sc),t=null}}}function c(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function l(e,t,s){e.attachEvent?e.attachEvent("on"+t,s):e.addEventListener(t,s)}function o(e,t,s){e.detachEvent?e.detachEvent("on"+t,s):e.removeEventListener(t,s)}function u(n,e,o,t){l(t||document,e,function(e){for(var t,s=e.target||e.srcElement;s&&!(t=c(s,n));)s=s.parentElement;t&&o.call(s,e)})}};"function"==typeof define&&n(7)?define("autoComplete",function(){return t}):e.exports?e.exports=t:window.autoComplete=t,s.a=t}).call(this,n(6)(e))},,,,function(e,t,s){s(5),e.exports=s(9)},function(e,t,s){},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(e,t,s){"use strict";var o=window.jQuery;window.ssponsorships=window.ssponsorships||{},window.ssponsorships.sponsorshipEditPackage=function(e,t){for(var s=ss_admin.package.editable,n=t.parent().parent(),o=0;o<s.length;o++){var a=s[o],i=n.find("."+a);i.find(".ss-item-field-text").hide(),i.find(".ss-field-editable").attr("type","text")}t.attr("data-success","sponsorshipUneditPackage")},window.ssponsorships.sponsorshipUneditPackage=function(e,t){for(var s=ss_admin.package.editable,n=t.parent().parent(),o=0;o<s.length;o++){var a=s[o],i=n.find("."+a);i.find(".ss-item-field-text").show(),i.find(".ss-field-editable").attr("type","hidden")}t.attr("data-success","sponsorshipEditPackage")},window.ssponsorships.sponsorshipRemovePackage=function(e,t){var s=t.parent().parent(),n=s.parent();s.remove(),1===n.children().length&&o("#addPackage").removeClass("ss-hidden")},window.ssponsorships.sponsorshipCalculateTotals=function(e,t){if(e.success){var s=e.data.amount,n=e.data.formatted_amount;o("#amount").val(s),o(".ss-packages.ss-items tfoot .item-amount").html(n)}else alert(e.data)}},function(e,t,s){"use strict";s.r(t);var n=s(0),c=window.jQuery,l=[];function u(t){var s=!1;return c("[name=ss_sponsors]").each(function(){var e=c(this).val();(e=e?e.split(","):[]).includes(t)||(e.push(t),c(this).val(e.join(",")),s=!0)}),s}function o(){c("[name=ss-search-sponsor]").length&&(new n.a({selector:'input[name="ss-search-sponsor"]',minChars:2,menuClass:"ss-autocompleter",source:function(e,t){var s=c("[name=ss_sponsors]").val(),n=[];s&&(n=s.split(",")),c.ajax({url:ss_admin.ajax,data:{search:e,exclude:n,nonce:ss_admin.nonce,action:"ss_get_available_sponsors"},success:function(e){l=e.data,0===e.data.length?t([ss_admin.text.no_sponsor_found]):t(e.data.map(function(e){return e.post_title}))}})},onSelect:function(e,t,s){if(l.length)for(var n=0;n<l.length;n++){var o=l[n];if(t===o.post_title){u(o.ID)&&(a=o,i=c(s).parents(".inside").find(".ss-connected-sponsors"),void 0,r="<li>"+a.post_title+'<button type="button" data-id="'+a.ID+'" class="ss-remove-sponsor-content">x</button></li>',i.append(r));break}}var a,i,r;c(s).parents(".inside").find("[name=ss-search-sponsor]").val("")}}),c(document).on("click",".ss-remove-sponsor-content",function(){var t,s,e=c(this).attr("data-id");t=e,s=!1,c("[name=ss_sponsors]").each(function(){var e=c(this).val();(e=e?e.split(","):[]).includes(t)&&(e.splice(e.indexOf(t),1),c(this).val(e.join(",")),s=!0)}),s&&c(this).parent().remove()}))}function a(){var e=c(".ss-view-sponsorship #sponsor");e.length&&("new"!==e.val()?c(".hide-if-sponsor").each(function(){c(this).parent().parent().hide()}):c(".hide-if-sponsor").each(function(){c(this).parent().parent().show()}))}window.updateSponsorQuantityColumnOnAjax=function(e,t){var s,n,o,a;e.success&&(s=e.data,n=t.parents(".column-qty"),o=n.find(".ss-badge"),a=parseInt(o.text()),o.removeClass("ss-qty-"+a),o.html(s),o.addClass("ss-qty-"+s))},window.ssRemoveSponsorFromContent=function(e,t){e.success&&t.parents("tr").remove()};var i=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,r=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e};function d(e){return(e+"").replace(i,r)}var p=window.jQuery;function f(e){e.hasClass("ss-field-row")||(e=e.parents(".ss-field-row"));var t=e.attr("id"),s=t.substring(0,t.lastIndexOf("_row")).replace("[","\\[").replace("]","\\]"),n=p("#"+s).val(),o="hide_if_"+s+"_"+n,a="show_if_"+s+"_"+n;p('[class*="show_if_'+s+'"]').addClass("ss-hidden"),p('[class*="hide_if_'+s+'"]').removeClass("ss-hidden"),p("."+d(a)).removeClass("ss-hidden"),p("."+d(o)).addClass("ss-hidden")}var m=window.jQuery;var h=window.jQuery;function v(e){if(e){var t=window.ssponsorships;if(t&&"function"==typeof t[e])return t[e];if("function"==typeof window[e])return window[e]}return!1}s(8);var g,y=window.jQuery;window.ssponsorships=window.ssponsorships||{},window.ssponsorships.removePackageFeature=function(e,t){e.success&&t.parent().remove()},window.ssponsorships.addPackageFeature=function(e,t){if(e.success){var s=y("#ss_package_feature_template").html();y(".ss-package-features").append(s)}},window.ssponsorships=window.ssponsorships||{},(g=jQuery)(function(){h(document).on("click",".ss-button-action",function(e){e.preventDefault();var s=h(this),t=s.attr("data-action")||!1,n=s.attr("data-success")||!1,o={};if(this.attributes.length)for(var a=0;a<this.attributes.length;a++)o[this.attributes[a].name.replace("data-","")]=this.attributes[a].value;if(t)h.ajax({url:ss_admin.ajax,data:{nonce:ss_admin.nonce,action:t,data:o},success:function(e){var t=v(n);!1!==t&&t(e,s)}});else{var i=v(n);!1!==i&&i(o,s)}}),p(".ss-field-row").length&&p(".ss-field-row").each(function(){f(p(this))}),p(document).on("change",".ss-field-row :input",function(){f(p(this))}),o(),a(),y(".ss-package-features").length&&y(".ss-package-features").sortable({handle:".ss-sortable-handle"}),m(document.body).on("click",".ss-button-table-list-filter",function(e){e.preventDefault();for(var t=m(this).parent(),s=window.location.href.split("?"),n=s[1].split("&"),o={},a=0;a<n.length;a++){var i=n[a].split("=");o[i[0]]=i[1]}t.find(".ss-filter").each(function(){var e=m(this).attr("name"),t=m(this).val();t?o[e]=t:delete o[e]}),delete o.paged;var r=[];for(var c in o)r.push(c+"="+o[c]);var l=s[0]+"?"+r.join("&");window.location.href=l}),g(document).on("change",".ss-view-sponsorship #sponsor",a),g(".ss-colorpicker").length&&g(".ss-colorpicker").wpColorPicker(),g(".ss-datepicker").length&&g(".ss-datepicker").datepicker({dateFormat:"yy-mm-dd"}),g(document).on("click",".ss-button-integration-deactivate",function(e){e.preventDefault();var t=g(this).attr("data-integration"),s=g(this);t&&g.ajax({url:ss_admin.ajax,dataType:"json",type:"POST",data:{action:"ss_deactivate_integration",integration:t,nonce:ss_admin.nonce},success:function(e){e.success&&s.removeClass("ss-button-integration-deactivate").removeClass("button-default").addClass("ss-button-integration-activate").addClass("button-primary").html(ss_admin.text.activate)}})}),g(document).on("click",".ss-button-integration-activate",function(e){e.preventDefault();var t=g(this).attr("data-integration"),s=g(this);t&&g.ajax({url:ss_admin.ajax,dataType:"json",type:"POST",data:{action:"ss_activate_integration",integration:t,nonce:ss_admin.nonce},success:function(e){e.success&&s.addClass("ss-button-integration-deactivate").addClass("button-default").removeClass("ss-button-integration-activate").removeClass("button-primary").html(ss_admin.text.deactivate)}})})})}]);
//# sourceMappingURL=admin.js.map